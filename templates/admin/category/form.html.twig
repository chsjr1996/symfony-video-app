{% extends "admin/base.html.twig" %}

{% block mainadmin %}
    {% if category is defined %}
        <h2>Editing category</h2>
    {% else %}
        <h2>New category</h2>
    {% endif %}

    {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
    {{ form_widget(form.name, {
        'attr': {
          'class': 'form-control' ~ is_invalid,
          'placeholder': 'Category name',
          'id': 'validationServer01'
        }
      }) }}
    <br>
    <label for="inlineFormCustomSelect">Parent:</label>
    <select name="category[parent]" class="custom-select mr-sm-2" id="inlineFormCustomSelect">
        {{ render(controller('App\\Controller\\Admin\\CategoryController::renderCategoriesList', {'editedCategory': category ?? 0})) }}
    </select>
    <div class="invalid-feedback">
        {{ form_errors(form.name) }}
    </div>
    <button class="btn btn-primary mt-3" type="submit">Save</button>
    {{ form_end(form) }}
{% endblock %}
